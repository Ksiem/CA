<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>index.html</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta name="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
 	<script src="../jslib/jquery.min.js" type="text/javascript"></script>
    <link href="../jslib/miniui/themes/default/miniui.css" rel="stylesheet" type="text/css" />
    <script src="../jslib/miniui/miniui.js" type="text/javascript"></script>
    <!--MiniUI-->
    <link href="../jslib/miniui/themes/blue/skin.css" rel="stylesheet" type="text/css" />
    <link href="../jslib/demo.css" rel="stylesheet" type="text/css" />
    <script src="../jslib/boot.js" type="text/javascript"></script>
  </head>
  
  <body>


<div id="layout2" class="mini-layout" style="width:100%;height:600px;">
    <div title="north" region="north" height="80" >
        欢迎使用课时录入系统
       
    </div>
    <div title="导航栏" region="west" width="200" >
       	<ul id="tree1" class="mini-tree" url="../listTree.txt" style="width:100%;height:100%;" 
		    showTreeIcon="true" textField="text" idField="id" resultAsTree="false"  
		    onnodeselect="onNodeSelect">        
		</ul>
    </div>
    
    <div title="center" region="center" >
        
        <div id="mainTabs" class="mini-tabs bg-toolbar" activeIndex="0" style="width:100%;height:100%;"      
		bodyStyle="border:0;background:white;">        
			<div title="首页" url="../main/hello.html" >  </div>
		</div>
    </div>
</div>

<script type="text/javascript">
	function showTab(node) {
	    var tabs = mini.get("mainTabs");            
	    var id = "tab$" + node.id;
	    var tab = tabs.getTab(id);
	    if (!tab) {
	        tab = {};
	        tab.name = id;
	        tab.title = node.text;
	        tab.showCloseButton = true;
	        tab.url = node.url;
	        tabs.addTab(tab);
	    }
	    console.log(tab);
	    tabs.activeTab(tab);
	}        

	function onNodeSelect(e) {
	    var node = e.node;
	    var isLeaf = e.isLeaf;            
		console.log(e);
	    if (isLeaf) {
	        showTab(node);
	    }
	}
</script>
</body>
</html>
